<div class="contact-líst">
	<div class="contact-view">
		<!-- ========================== SEARCH ===============================-->
		<div class="search">
			<div class="inpt-search">
				<img src="../../../../assets/ICON/IconAppChat/11.svg" alt="search-icon">
				<input type="text" placeholder="Tìm kiếm cuộc trò chuyện" />
			</div>
			<div class="btn-add">
				<img src="../../../../assets/ICON/IconboxChat/23.svg" alt="add conversation">
			</div>
		</div>
		<!-- ========================== END SEARCH ===============================-->

		<!-- ========================== CONTACT LIST =============================-->
		<!-- <div id="contacts">
			<ul>
				<li class="contact" *ngFor="let chat of user" routerLink="/chat/{{chat.id}}" (click)="onCick(chat)"
					[ngClass]="getActive(chat)">
					<div class="wrap">
						<span class="contact-status online"></span> -->
		<!-- <img [src]="chat.avatarUrl" alt="" /> -->
		<!-- <img class="green" src="/assets/images/green_sphere.svg" alt="avatar-conversation"
							*ngIf="chat.isActive"> -->
		<!-- <ngx-avatar [name]="chat.firstName + ' ' + chat.lastName" size="34"></ngx-avatar>
						<div class="meta">
							<p class="name">{{ chat.userName }}</p>
							<p class="preview">{{  chat.firstName }}</p> -->
		<!-- <p class="preview" [ngClass]="{'seen' : !chat.seenStatus, 'not-seen' : chat.seenStatus}">{{  chat.lastMesseage }}</p> -->
		<!-- </div> -->
		<!-- 
						<div class="meta status">
							<p class="time" *ngIf="caculateLastTime(chat.lastTime) == 0">
								{{  chat.lastTime |  date:'HH:MM'  }}</p>
							<p class="time" *ngIf="caculateLastTime(chat.lastTime) == 1">
								{{  chat.lastTime |  date: 'EEE'  }}</p>
							<p class="time" *ngIf="caculateLastTime(chat.lastTime) == 2">
								{{  chat.lastTime |  date }}</p>
							<p>
							<span class="badge badge-light newMesseage" [ngClass]="{'not-amout': chat.amoutNewMesseage === 0}">
									{{ chat.amoutNewMesseage }}
							</span>
							</p>
						</div> -->
		<!-- </div>
				</li>
			</ul> -->
		<div id="contacts">
			<ul *ngIf="tabTranfer == 0">
				<li *ngFor="let conv of responseConvs" class="contact" routerLink="/chat/{{conv.id}}"
					(click)="onCickConversation(conv)" [ngClass]="getActive(conv)">
					<div class="meta">
						<div class="wrap">
							<span class="contact-status online"></span>
							<ng-container *ngFor="let participant of conv.participants">
								<ngx-avatar *ngIf="participant.name != null" [name]="participant.name" size="40">
								</ngx-avatar>
							</ng-container>

							<div class="meta">
								<ng-container *ngFor="let participant of conv.participants">
									<p class="name" *ngIf="participant.name != null">
										{{ participant.name }}
									</p>
								</ng-container>

								<p class="preview" [ngClass]="{'seen': conv.unreadCount == 0}">
									{{  conv.lastMessage.content.content }}</p>
								<!-- <p class="preview" [ngClass]="{'seen' : !chat.seenStatus, 'not-seen' : chat.seenStatus}">{{  chat.lastMesseage }}</p> -->
							</div>
							<div class="meta status">
								<p *ngIf="forMatTime(conv.lastMessage.createdAt) === 0" class="time">
									{{conv.lastMessage.createdAt | date: 'HH:MM'}}</p>
								<p *ngIf="forMatTime(conv.lastMessage.createdAt) === 1" class="time">
									{{conv.lastMessage.createdAt | date: 'EEE'}}</p>
								<p *ngIf="forMatTime(conv.lastMessage.createdAt) === 2" class="time">
									{{conv.lastMessage.createdAt | date: 'd MMM' }}
								</p>
								<span class="badge badge-light newMesseage"
									[ngClass]="{'not-amout': conv.unreadCount === 0}">
									{{ conv.unreadCount }}
								</span>
							</div>
						</div>
					</div>
				</li>
			</ul>

			<ul class="nav-pills nav-stacked" *ngIf="tabTranfer == 1">
				<li id="user-contact"   *ngFor="let user of users" (click)="onCreateConversation(user)">
					<ngx-avatar [name]="user.userName" size="34"></ngx-avatar>
					<p class="name"> {{ user.userName }} </p>
				</li>
			</ul>
		</div>

		<!-- ========================== END CONTACT LIST =============================-->
		<!-- tab menu -->
		<div id="bottom-bar">
			<button (click)="getConversationsTab()"
				[ngClass]="{ 'bg': 'tabtranfer', 'tab-active': !tabChange}"><span>Cuộc
					trò chuyện</span></button>
			<button (click)="getContactListTab()" [ngClass]="{'bg': 'tabtranfer', 'tab-active': tabChange }"><span>Danh
					bạ</span></button>
		</div>
		<!-- tab menu -->
	</div>
</div>